<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Variables · ModiaMath</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link href="../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>ModiaMath</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../search.html"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../index.html">Home</a></li><li><span class="toctext">Manual</span><ul><li><a class="toctext" href="../man/Overview.html">Overview</a></li><li><a class="toctext" href="../man/Plans.html">Plans for version 1.0</a></li></ul></li><li><span class="toctext">Library</span><ul><li><a class="toctext" href="SimulationEngine.html">SimulationEngine</a></li><li><a class="toctext" href="Result.html">Result</a></li><li><a class="toctext" href="DAE.html">DAE</a></li><li class="current"><a class="toctext" href="Variables.html">Variables</a><ul class="internal"></ul></li><li><a class="toctext" href="Logging.html">Logging</a></li><li><a class="toctext" href="Frames.html">Frames</a></li><li><a class="toctext" href="Utilities.html">Utilities</a></li><li><a class="toctext" href="ModiaMath.html">ModiaMath Constants and Types</a></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li>Library</li><li><a href="Variables.html">Variables</a></li></ul><a class="edit-page" href="https://github.com/ModiaSim/ModiaMath.jl/blob/master/docs/src/lib/Variables.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Variables</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Variables-1" href="#Variables-1">Variables</a></h1><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ModiaMath.Variables" href="#ModiaMath.Variables"><code>ModiaMath.Variables</code></a> — <span class="docstring-category">Module</span>.</div><div><div><pre><code class="language-none">module ModiaMath.Variables</code></pre><p>Provide variable types for simulation models.</p><p>This module provides functions to declare simulation Variables as special structs that have a <code>value</code> and associated attributes. Furthermore, there are functions to copy the integrator interface variables (<code>x, derx, residue</code>) to the appropriate Variables and  vice versa. Therefore, the modeler does not have to care about, how the values of the variables are mapped to the integrator interface. Typically, a model is constructed with macro <a href="Variables.html#ModiaMath.Variables.@component-Tuple{Any,Any}"><code>@component</code></a> using <code>RealXXX</code> variable declarations. Example:</p><pre><code class="language-julia">  using ModiaMath
  using StaticArrays

  @component Pendulum(;L=1.0, m=1.0, d=0.1, g=9.81) begin
     phi = RealScalar(start=pi/2, unit=&quot;rad&quot;    , fixed=true,               numericType=ModiaMath.XD_EXP)
     w   = RealScalar(start=0.0 , unit=&quot;rad/s&quot;  , fixed=true, integral=phi, numericType=ModiaMath.XD_EXP)
     a   = RealScalar(            unit=&quot;rad/s^2&quot;,             integral=w  , numericType=ModiaMath.DER_XD_EXP) 
     r   = RealSVector{2}(        unit=&quot;m&quot;      ,                           numericType=ModiaMath.WC)
  end;</code></pre><p>The following variable types are currently supported:</p><table><tr><th>Variable types</th><th>Description</th></tr><tr><td><a href="Variables.html#ModiaMath.Variables.RealScalar"><code>RealScalar</code></a></td><td>Scalar variable with Float64 value</td></tr><tr><td><a href="Variables.html#ModiaMath.Variables.RealSVector"><code>RealSVector</code></a>{Size}</td><td>Variable with SVector{Size,Float64} value</td></tr><tr><td><a href="Variables.html#ModiaMath.Variables.RealSVector3"><code>RealSVector3</code></a></td><td>Variable with SVector{3,Float64} value</td></tr><tr><td><a href="Variables.html#ModiaMath.Variables.RealVariable"><code>RealVariable</code></a>{VType, EType}</td><td>Variable with value/element type <code>VType/EType</code></td></tr></table><p>All of them have the following attributes:</p><table><tr><th>Variable attributes</th><th>Description</th></tr><tr><td><code>value::VType</code></td><td>Value of the variable (scale, vector, matrix, ...)</td></tr><tr><td><code>info::AbstractString</code></td><td>Description text</td></tr><tr><td><code>causality::</code><a href="Variables.html#ModiaMath.Variables.Causality"><code>ModiaMath.Causality</code></a></td><td>Causality of variable</td></tr><tr><td><code>variability::</code><a href="Variables.html#ModiaMath.Variables.Variability"><code>ModiaMath.Variability</code></a></td><td>Variability of variable</td></tr><tr><td><code>start::EType</code></td><td>Start value of variable</td></tr><tr><td><code>fixed::Bool</code></td><td><code>fixed = true</code>: <code>value=start</code> after initialization</td></tr><tr><td><code>analysis::</code><a href="Variables.html#ModiaMath.Variables.VariableAnalysisType"><code>VariableAnalysisType</code></a></td><td>Analysis for which the variable is used</td></tr><tr><td><code>min::EType</code></td><td>Minimum value of <code>value</code> and of <code>start</code></td></tr><tr><td><code>max::EType</code></td><td>Maximum value of <code>value</code> and of <code>start</code></td></tr><tr><td><code>nominal::EType</code></td><td>Nominal value of <code>value</code> (used to improve numerics)</td></tr><tr><td><code>flow::Bool</code></td><td><code>= true</code> if variable is a flow variable</td></tr><tr><td><code>numericyType::</code><a href="Variables.html#ModiaMath.Variables.NumericType"><code>ModiaMath.NumericType</code></a></td><td>Defines how variable is used by the integrator</td></tr><tr><td><code>integral</code></td><td>= the integral variable or <code>nothing</code></td></tr><tr><td><code>unit::String</code></td><td>Unit of <code>value</code> and of <code>start</code></td></tr></table><p>The following functions are provided to perform the actual copy-operations and/or to inquire information about the variables in the model</p><ul><li><a href="Variables.html#ModiaMath.Variables.copy_start_to_x!-Tuple{ModiaMath.Variables.ModelVariables,Array{Float64,1},Array{Bool,1}}"><code>ModiaMath.copy_start_to_x!</code></a></li><li><a href="Variables.html#ModiaMath.Variables.copy_x_and_derx_to_variables!-Tuple{Float64,Array{Float64,1},Array{Float64,1},ModiaMath.Variables.ModelVariables}"><code>ModiaMath.copy_x_and_derx_to_variables!</code></a></li><li><a href="Variables.html#ModiaMath.Variables.copy_variables_to_residue!-Tuple{ModiaMath.Variables.ModelVariables,Array{Float64,1},Array{Float64,1},Array{Float64,1}}"><code>ModiaMath.copy_variables_to_residue!</code></a></li><li><a href="Variables.html#ModiaMath.Variables.print_ModelVariables-Tuple{ModiaMath.Variables.ModelVariables}"><code>ModiaMath.print_ModelVariables</code></a></li><li><a href="Variables.html#ModiaMath.Variables.get_xTable-Tuple{ModiaMath.Variables.ModelVariables}"><code>ModiaMath.get_xTable</code></a></li><li><a href="Variables.html#ModiaMath.Variables.get_copyToVariableTable-Tuple{ModiaMath.Variables.ModelVariables}"><code>ModiaMath.get_copyToVariableTable</code></a></li><li><a href="Variables.html#ModiaMath.Variables.get_copyToResidueTable-Tuple{ModiaMath.Variables.ModelVariables}"><code>ModiaMath.get_copyToResidueTable</code></a></li><li><a href="Variables.html#ModiaMath.Variables.get_copyToResultTable-Tuple{ModiaMath.Variables.ModelVariables}"><code>ModiaMath.get_copyToResultTable</code></a></li></ul><p><strong>Main developer</strong></p><p><a href="https://rmc.dlr.de/sr/de/staff/martin.otter/">Martin Otter</a>,  <a href="https://www.dlr.de/sr/en">DLR - Institute of System Dynamics and Control</a></p></div></div><a class="source-link" target="_blank" href="https://github.com/ModiaSim/ModiaMath.jl/blob/4d1454d3dae240d8bfed21a2365894b74a90b133/src/Variables/_module.jl#L5-L76">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ModiaMath.Variables.AnalysisType" href="#ModiaMath.Variables.AnalysisType"><code>ModiaMath.Variables.AnalysisType</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-none">@enum AnalysisType KinematicAnalysis QuasiStaticAnalysis DynamicAnalysis</code></pre><p>Type of analyis that is actually carried out. The <code>AnalysisType</code> is set by the user of the simulation model. Variables are declared in the model with <a href="Variables.html#ModiaMath.Variables.VariableAnalysisType"><code>VariableAnalysisType</code></a><code>. Variables with [</code>VariableAnalysisType<code>](@ref)</code> &lt;= AnalysisType<code>are removed from the analysis and do not show up in the result. For example, an *acceleration* would be declared as</code>OnlyDynamicAnalysis<code>and then this variable would not show up in the result, if</code>AnalysisType = KinematicAnalysis<code>or</code>QuasiStaticAnalysis`.</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaLang/julia/blob/5d4eaca0c9fa3d555c79dbacdccb9169fdf64b65/base/#L0-L9">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ModiaMath.Variables.Causality" href="#ModiaMath.Variables.Causality"><code>ModiaMath.Variables.Causality</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-none">@enum Causality Parameter CalculatedParameter Input Output Local Independent</code></pre><p>Causality of variable (only used when connecting models)</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaLang/julia/blob/5d4eaca0c9fa3d555c79dbacdccb9169fdf64b65/base/#L0-L4">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ModiaMath.Variables.ModelVariables" href="#ModiaMath.Variables.ModelVariables"><code>ModiaMath.Variables.ModelVariables</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-none">vars = ModiaMath.ModelVariables(model::ModiaMath.AbstractComponentWithVariables; 
                                analysis::AnalysisType = ModiaMath.DynamicAnalysis)</code></pre><p>Return a struct that contains all the variables in <code>model</code> in a form so that fast copying from the integrator interface to the variables can be performed, and vice versa.</p></div></div><a class="source-link" target="_blank" href="https://github.com/ModiaSim/ModiaMath.jl/blob/4d1454d3dae240d8bfed21a2365894b74a90b133/src/Variables/modelVariables.jl#L191-L198">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ModiaMath.Variables.NumericType" href="#ModiaMath.Variables.NumericType"><code>ModiaMath.Variables.NumericType</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-none">@enum NumericType XD_EXP XD_IMP ..</code></pre><p>Defines how a variable is used in the integrator interface. The goal is to describe an implicit index-1 DAE:</p><div>\[\begin{align}
 z &amp;= f_z(x, t) \\
 0 &amp;= f_d(\dot{x}, x, t, z_i &gt; 0) \\
 0 &amp;= f_c(x, t, z_i &gt; 0) \\
 J &amp;= \left[ \frac{\partial f_d}{\partial \dot{x}};  
              \frac{\partial f_c}{\partial x} \right] \; \text{is regular}
\end{align}\]</div><p>The integrator interface to the model is</p><pre><code class="language-julia">getModelResidues(m::AbstractSimulationModel, t::Float64, x::Vector{Float64},  
                 derx::Vector{Float64}, r::Vector{Float64}</code></pre><p>In the following table it is shown how <code>NumericType</code> values of variables are mapped to this integrator interface:</p><table><tr><th>@enum value</th><th>Mapping/Description</th></tr><tr><td><code>XD_EXP</code></td><td>Copied from <code>x</code> into variable; der(v) is <strong>computed by model</strong></td></tr><tr><td><code>XD_IMP</code></td><td>Copied from <code>x</code> into variable; der(v) copied from <code>derx</code></td></tr><tr><td><code>XA</code></td><td>Copied from <code>x</code> into variable; <code>derx</code> is ignored (algebraic variable)</td></tr><tr><td><code>DER_XD_EXP</code></td><td>Computed by model; automatic: <code>residue = der(v) - derx</code></td></tr><tr><td><code>DER_XD_IMP</code></td><td>Copied from <code>derx</code> into variable (= der(v); v has type <code>XD_IMP</code></td></tr><tr><td><code>LAMBDA</code></td><td>Copied from <code>derx</code> into variable; index-1 algebraic variable</td></tr><tr><td><code>MUE</code></td><td>Copied from <code>derx</code>; stabilizing variable to reduced index to index 1</td></tr><tr><td><code>FD_IMP</code></td><td>Is copied from variable to <code>residue</code>; part of <span>$f_d$</span> equations</td></tr><tr><td><code>FC</code></td><td>Is copied from variable to <code>residue</code>; part of <span>$f_c$</span> equations</td></tr><tr><td><code>WR</code></td><td>Computed by model; stored in result; used to compute residues</td></tr><tr><td><code>WC</code></td><td>Computed by model; stored in result; only available at communication points</td></tr><tr><td><code>TIME</code></td><td>Copied from <code>t</code> into variable; independent variable time</td></tr></table></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaLang/julia/blob/5d4eaca0c9fa3d555c79dbacdccb9169fdf64b65/base/#L0-L39">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ModiaMath.Variables.RealSVector" href="#ModiaMath.Variables.RealSVector"><code>ModiaMath.Variables.RealSVector</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-none">v = RealSVector{Size}(..)</code></pre><p>Generate a variable of type <a href="Variables.html#ModiaMath.Variables.RealVariable"><code>RealVariable</code></a><code>{SVector{Size,Float64},Float64}</code> where the values have type StaticArrays.SVector{Size,Float64}. The argument list is described in module <a href="Variables.html#ModiaMath.Variables"><code>Variables</code></a>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/ModiaSim/ModiaMath.jl/blob/4d1454d3dae240d8bfed21a2365894b74a90b133/src/Variables/realVariables.jl#L145-L151">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ModiaMath.Variables.RealSVector3" href="#ModiaMath.Variables.RealSVector3"><code>ModiaMath.Variables.RealSVector3</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-none">v = RealSVector3(..)</code></pre><p>Generate a variable of type <a href="Variables.html#ModiaMath.Variables.RealVariable"><code>RealVariable</code></a><code>{SVector{3,Float64},Float64}</code> where the values have type StaticArrays.SVector{3,Float64}. The argument list is described in module <a href="Variables.html#ModiaMath.Variables"><code>Variables</code></a>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/ModiaSim/ModiaMath.jl/blob/4d1454d3dae240d8bfed21a2365894b74a90b133/src/Variables/realVariables.jl#L155-L161">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ModiaMath.Variables.RealScalar" href="#ModiaMath.Variables.RealScalar"><code>ModiaMath.Variables.RealScalar</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-none">v = RealScalar(..)</code></pre><p>Generate a variable of type <a href="Variables.html#ModiaMath.Variables.RealVariable"><code>RealVariable</code></a><code>{Float64,Float64}</code> to define scalar, Float64, real variables. The argument list is described in module <a href="Variables.html#ModiaMath.Variables"><code>Variables</code></a>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/ModiaSim/ModiaMath.jl/blob/4d1454d3dae240d8bfed21a2365894b74a90b133/src/Variables/realVariables.jl#L136-L141">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ModiaMath.Variables.RealVariable" href="#ModiaMath.Variables.RealVariable"><code>ModiaMath.Variables.RealVariable</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-none">v = RealVariable{ValueType,ElementType}(...)</code></pre><p>Generate a new variable with <code>v.value::ValueType</code>, <code>v.nominal::ElementType</code>. The argument list is described in module <a href="Variables.html#ModiaMath.Variables"><code>Variables</code></a>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/ModiaSim/ModiaMath.jl/blob/4d1454d3dae240d8bfed21a2365894b74a90b133/src/Variables/realVariables.jl#L59-L64">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ModiaMath.Variables.SimulationModel" href="#ModiaMath.Variables.SimulationModel"><code>ModiaMath.Variables.SimulationModel</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-none">sm = ModiaMath.SimulationModel(model::ModiaMath.AbstractComponentWithVariables;
                               startTime = 0.0, stopTime = 1.0, tolerance = 1e-4,
                               interval = (stopTime-startTime)/500.0)</code></pre><p>Return a simulationModel <code>sm</code> struct that can be simulated with <a href="SimulationEngine.html#ModiaMath.SimulationEngine.simulate!-Tuple{ModiaMath.AbstractSimulationModel}"><code>ModiaMath.simulate!</code></a>. The given <code>model</code> is typically constructed with the <a href="Variables.html#ModiaMath.Variables.@component-Tuple{Any,Any}"><code>@component</code></a> macro. As keyword arguments, default values for <code>startTime</code>, <code>stopTime</code>, <code>tolerance</code>, <code>interval</code> can be given.</p></div></div><a class="source-link" target="_blank" href="https://github.com/ModiaSim/ModiaMath.jl/blob/4d1454d3dae240d8bfed21a2365894b74a90b133/src/Variables/simulationModel.jl#L11-L19">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ModiaMath.Variables.Variability" href="#ModiaMath.Variables.Variability"><code>ModiaMath.Variables.Variability</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-none">@enum Variability Constant Fixed Tunable Discrete Continuous</code></pre><p>Currently not used. Will be used in the future to store only the minimum information in the result (store value only, when it can potentially change).</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaLang/julia/blob/5d4eaca0c9fa3d555c79dbacdccb9169fdf64b65/base/#L0-L5">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ModiaMath.Variables.VariableAnalysisType" href="#ModiaMath.Variables.VariableAnalysisType"><code>ModiaMath.Variables.VariableAnalysisType</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-none">@enum VariableAnalysisType AllAnalysis QuasiStaticAndDynamicAnalysis 
                           OnlyDynamicAnalysis NotUsedInAnalysis</code></pre><p>Type of analysis that can be carried out with the variable (e.g. a <em>force</em> would be defined as <code>QuasiStaticAndDynamicAnalysis</code>, an <em>acceleration</em> would be defined as <code>OnlyDynamicAnalysis</code> and a position variable would be defined as <code>AllAnalysis</code>.</p><p>Variables with <code>VariableAnalysisType &lt;=</code><a href="Variables.html#ModiaMath.Variables.AnalysisType"><code>AnalysisType</code></a> are removed from the analysis and do not show up in the result. For example, an <em>acceleration</em> would be declared as <code>OnlyDynamicAnalysis</code> and then this variable would not show up in the result, if <code>AnalysisType = KinematicAnalysis</code> or <code>QuasiStaticAnalysis</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaLang/julia/blob/5d4eaca0c9fa3d555c79dbacdccb9169fdf64b65/base/#L0-L13">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ModiaMath.Variables.componentName-Tuple{ModiaMath.AbstractComponentWithVariables}" href="#ModiaMath.Variables.componentName-Tuple{ModiaMath.AbstractComponentWithVariables}"><code>ModiaMath.Variables.componentName</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">name = ModiaMath.componentName(
           component::ModiaMath.AbstractComponentWithVariables)</code></pre><p>Return <strong>name</strong> of component (without the leading path) as Symbol. </p></div></div><a class="source-link" target="_blank" href="https://github.com/ModiaSim/ModiaMath.jl/blob/4d1454d3dae240d8bfed21a2365894b74a90b133/src/Variables/components.jl#L24-L29">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ModiaMath.Variables.copy_start_to_x!-Tuple{ModiaMath.Variables.ModelVariables,Array{Float64,1},Array{Bool,1}}" href="#ModiaMath.Variables.copy_start_to_x!-Tuple{ModiaMath.Variables.ModelVariables,Array{Float64,1},Array{Bool,1}}"><code>ModiaMath.Variables.copy_start_to_x!</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">copy_start_to_x!(vars::ModelVariables, x::Vector{Float64}, x_fixed::Vector{Bool})</code></pre><p>Copy <code>start</code> and <code>fixed</code> values of variables <code>vars</code>to <code>x</code> and <code>x_fixed</code> vectors.</p></div></div><a class="source-link" target="_blank" href="https://github.com/ModiaSim/ModiaMath.jl/blob/4d1454d3dae240d8bfed21a2365894b74a90b133/src/Variables/modelVariables.jl#L597-L601">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ModiaMath.Variables.copy_variables_to_residue!-Tuple{ModiaMath.Variables.ModelVariables,Array{Float64,1},Array{Float64,1},Array{Float64,1}}" href="#ModiaMath.Variables.copy_variables_to_residue!-Tuple{ModiaMath.Variables.ModelVariables,Array{Float64,1},Array{Float64,1},Array{Float64,1}}"><code>ModiaMath.Variables.copy_variables_to_residue!</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">copy_variables_to_residue!(vars::ModelVariables, x::Vector{Float64},
                           derx::Vector{Float64}, residue::Vector{Float64})</code></pre><p>Copy variables <code>vars</code> to <code>residue</code> vector and include the inherent residue equations of <code>XD_EXP</code> variables (<code>residue = der(v) - derx</code>).</p></div></div><a class="source-link" target="_blank" href="https://github.com/ModiaSim/ModiaMath.jl/blob/4d1454d3dae240d8bfed21a2365894b74a90b133/src/Variables/modelVariables.jl#L624-L630">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ModiaMath.Variables.copy_x_and_derx_to_variables!-Tuple{Float64,Array{Float64,1},Array{Float64,1},ModiaMath.Variables.ModelVariables}" href="#ModiaMath.Variables.copy_x_and_derx_to_variables!-Tuple{Float64,Array{Float64,1},Array{Float64,1},ModiaMath.Variables.ModelVariables}"><code>ModiaMath.Variables.copy_x_and_derx_to_variables!</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">copy_x_and_derx_to_variables!(time::Float64, x::Vector{Float64}, 
                              derx::Vector{Float64}, vars::ModelVariables)</code></pre><p>Copy <code>x</code>and <code>derx</code>of the integrator interface to the model variables <code>vars</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/ModiaSim/ModiaMath.jl/blob/4d1454d3dae240d8bfed21a2365894b74a90b133/src/Variables/modelVariables.jl#L553-L558">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ModiaMath.Variables.fullName-Tuple{ModiaMath.AbstractComponentWithVariables}" href="#ModiaMath.Variables.fullName-Tuple{ModiaMath.AbstractComponentWithVariables}"><code>ModiaMath.Variables.fullName</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">name = ModiaMath.fullName(component::ModiaMath.AbstractComponentWithVariables)</code></pre><p>Return <strong>full path name</strong> of component (including root name) as Symbol.</p></div></div><a class="source-link" target="_blank" href="https://github.com/ModiaSim/ModiaMath.jl/blob/4d1454d3dae240d8bfed21a2365894b74a90b133/src/Variables/components.jl#L33-L37">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ModiaMath.Variables.get_copyToResidueTable-Tuple{ModiaMath.Variables.ModelVariables}" href="#ModiaMath.Variables.get_copyToResidueTable-Tuple{ModiaMath.Variables.ModelVariables}"><code>ModiaMath.Variables.get_copyToResidueTable</code></a> — <span class="docstring-category">Method</span>.</div><div><div><p>table = ModiaMath.get_copyToResidueTable(vars::ModelVariables)</p><p>Function returns a DataFrames tables of all the variables in <code>vars</code> that are copied from variables to the residue vector.</p></div></div><a class="source-link" target="_blank" href="https://github.com/ModiaSim/ModiaMath.jl/blob/4d1454d3dae240d8bfed21a2365894b74a90b133/src/Variables/modelVariables.jl#L491-L496">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ModiaMath.Variables.get_copyToResultTable-Tuple{ModiaMath.Variables.ModelVariables}" href="#ModiaMath.Variables.get_copyToResultTable-Tuple{ModiaMath.Variables.ModelVariables}"><code>ModiaMath.Variables.get_copyToResultTable</code></a> — <span class="docstring-category">Method</span>.</div><div><div><p>table = ModiaMath.get_copyToResultTable(vars::ModelVariables)</p><p>Function returns a DataFrames tables of all the variables in <code>vars</code> that are copied from variables to the result.</p></div></div><a class="source-link" target="_blank" href="https://github.com/ModiaSim/ModiaMath.jl/blob/4d1454d3dae240d8bfed21a2365894b74a90b133/src/Variables/modelVariables.jl#L513-L518">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ModiaMath.Variables.get_copyToVariableTable-Tuple{ModiaMath.Variables.ModelVariables}" href="#ModiaMath.Variables.get_copyToVariableTable-Tuple{ModiaMath.Variables.ModelVariables}"><code>ModiaMath.Variables.get_copyToVariableTable</code></a> — <span class="docstring-category">Method</span>.</div><div><div><p>table = ModiaMath.get_copyToVariableTable(vars::ModelVariables)</p><p>Function returns a DataFrames tables of all the variables in <code>vars</code> that are copied from x/derx to the variables.</p></div></div><a class="source-link" target="_blank" href="https://github.com/ModiaSim/ModiaMath.jl/blob/4d1454d3dae240d8bfed21a2365894b74a90b133/src/Variables/modelVariables.jl#L471-L476">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ModiaMath.Variables.get_xTable-Tuple{ModiaMath.Variables.ModelVariables}" href="#ModiaMath.Variables.get_xTable-Tuple{ModiaMath.Variables.ModelVariables}"><code>ModiaMath.Variables.get_xTable</code></a> — <span class="docstring-category">Method</span>.</div><div><div><p>table = ModiaMath.get_xTable(vars::ModelVariables)</p><p>Function returns a DataFrames tables of all the variables stored in x-vector in <code>vars</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/ModiaSim/ModiaMath.jl/blob/4d1454d3dae240d8bfed21a2365894b74a90b133/src/Variables/modelVariables.jl#L456-L460">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ModiaMath.Variables.initComponent!-Tuple{ModiaMath.AbstractComponentWithVariables,Any,Any}" href="#ModiaMath.Variables.initComponent!-Tuple{ModiaMath.AbstractComponentWithVariables,Any,Any}"><code>ModiaMath.Variables.initComponent!</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">initComponent!(within::ModiaMath.AbstractComponentWithVariables, component, name)</code></pre><p>Initialize <code>component</code> with <code>name</code> (of String or Symbol type) for component <code>within</code>. If <code>component::ModiaMath.AbstractComponentWithVariables</code> the <code>within</code> object and <code>name</code> are stored in <code>component._internal</code>.</p><p>Additionally, and for all other types of <code>component</code> the following statement is executed:</p><pre><code class="language-julia">   setfield!(within, Symbol(name), component)</code></pre></div></div><a class="source-link" target="_blank" href="https://github.com/ModiaSim/ModiaMath.jl/blob/4d1454d3dae240d8bfed21a2365894b74a90b133/src/Variables/components.jl#L111-L124">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ModiaMath.Variables.instanceName-Tuple{ModiaMath.AbstractComponentWithVariables}" href="#ModiaMath.Variables.instanceName-Tuple{ModiaMath.AbstractComponentWithVariables}"><code>ModiaMath.Variables.instanceName</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">ModiaMath.instanceName(component::ModiaMath.AbstractComponentWithVariables)</code></pre><p>Return <strong>instance name</strong> of component (= full name but without root name) as Symbol.</p></div></div><a class="source-link" target="_blank" href="https://github.com/ModiaSim/ModiaMath.jl/blob/4d1454d3dae240d8bfed21a2365894b74a90b133/src/Variables/components.jl#L51-L55">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ModiaMath.Variables.print_ModelVariables-Tuple{ModiaMath.Variables.ModelVariables}" href="#ModiaMath.Variables.print_ModelVariables-Tuple{ModiaMath.Variables.ModelVariables}"><code>ModiaMath.Variables.print_ModelVariables</code></a> — <span class="docstring-category">Method</span>.</div><div><div><p>table = print_ModelVariables(vars::ModelVariables)</p><p>Print all the variables in <code>vars</code> in form of DataFrames tables.</p></div></div><a class="source-link" target="_blank" href="https://github.com/ModiaSim/ModiaMath.jl/blob/4d1454d3dae240d8bfed21a2365894b74a90b133/src/Variables/modelVariables.jl#L530-L534">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ModiaMath.Variables.@component-Tuple{Any,Any}" href="#ModiaMath.Variables.@component-Tuple{Any,Any}"><code>ModiaMath.Variables.@component</code></a> — <span class="docstring-category">Macro</span>.</div><div><div><pre><code class="language-none">@component ComponentName(arguments) begin ... end</code></pre><p>Macro to generate a <code>mutable struct ComponentName</code>. An instance of this struct can be used as <code>simulationModel</code> in constructor <a href="Variables.html#ModiaMath.Variables.SimulationModel"><code>ModiaMath.SimulationModel</code></a> and can then be simulated with <a href="SimulationEngine.html#ModiaMath.SimulationEngine.simulate!-Tuple{ModiaMath.AbstractSimulationModel}"><code>ModiaMath.simulate!</code></a>.</p><p>The <code>arguments</code> must be <strong>keyword arguments</strong> and are used as keyword arguments for the generated constructor function <code>ComponentName. The code in</code>begin ... end<code>is  basically the body of the generated constructor function. All left-hand-side (scalar or vector) symbols present between</code>begin ... end<code>, as well as all keyword-arguments</code>arguments<code>are declared as fields in struct</code>ComponentName`.</p><p><strong>Examples</strong></p><pre><code class="language-julia">using ModiaMath

@component Pendulum(;L=1.0, m=1.0, d=0.1, g=9.81, phi0_deg=90.0) begin
   @assert(L &gt; 0.0)
   @assert(m &gt; 0.0)
   @assert(d &gt;= 0.0)
  
   phi = RealScalar(..)
   w   = RealScalar(..)
   a   = RealScalar(..) 
   r   = RealSVector{2}(..)
end

pendulum = Pendulum(L=1.8)</code></pre><p>The symbols  <code>L, m, d, g, phi0_deg, phi, w, a, r</code> are used as fields in <code>pendulum</code> (so <code>pendulum.L = 1.8</code>).</p></div></div><a class="source-link" target="_blank" href="https://github.com/ModiaSim/ModiaMath.jl/blob/4d1454d3dae240d8bfed21a2365894b74a90b133/src/Variables/components.jl#L143-L177">source</a></section><footer><hr/><a class="previous" href="DAE.html"><span class="direction">Previous</span><span class="title">DAE</span></a><a class="next" href="Logging.html"><span class="direction">Next</span><span class="title">Logging</span></a></footer></article></body></html>
